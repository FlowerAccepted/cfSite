---
import BaseLayout from "../layouts/BaseLayout.astro";
const API_BASE = import.meta.env.PUBLIC_API_BASE;
---

<BaseLayout title="登录 - FAc's Site">
  <section class="title-section glass-panel">
    <h1>注册</h1>
  </section>

  <section class="glass-panel">
    <p><input id="username" class="glass-input" placeholder="用户名" /></p>
    <p><input id="password" class="glass-input" type="password" placeholder="密码" /></p>
    <button class="glass-btn" onclick="register()">注册</button>
    <p id="msg"></p>
    已有账号？<a class="basic-href" href="/login">点我登录！</a>
  </section>

<script type="module" define:vars={{ API_BASE }}>
  import { setupAuth } from "../auth.js";

  setupAuth(API_BASE);

  document
    .getElementById("login-btn")
    .addEventListener("click", () => {
      window.login();
    });
</script>
</BaseLayout>
